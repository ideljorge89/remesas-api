{% extends 'base_backend.html.twig' %}
{% trans_default_domain 'AppBundle' %}

{% block stylesheets %}
    {{ parent() }}

    <link rel="stylesheet" type="text/css" href="{{ asset('bundles/stflagiconcss/css/flag-icon.min.css') }}"
          xmlns="http://www.w3.org/1999/html"/>
{% endblock %}
{% block breadcrumb %}
    <div class="col-lg-12">
        <h2>Reportes</h2>
        <ol class="breadcrumb">
            <li>
                <a href="{{ path('homepage_backend') }}"><i
                            class="fa fa-home"></i> {{ 'backend.user_menu.breadcrumb.home'|trans({},'FOSUserBundle') }}
                </a>
            </li>
            <li>
                {{ 'backend.reportes.title'|trans({}) }}
            </li>
            <li class="active">
                <strong>{{ 'backend.reportes.panel'|trans({}) }}</strong>
            </li>
        </ol>
    </div>
{% endblock %}
{% block body %}
    <div class="ibox">
        <div class="ibox-content">
            <div class="row">
                <div class="col-md-12">
                    {{ form_start(form,{'attr':{
                        'id':form.vars.id
                    }}) }}

                    {{ form_widget(form._token) }}
                    {% if form_errors(form) %}
                        <div class="alert alert-danger" role="alert">
                            <button type="button" class="close" data-dismiss="alert" aria-hidden="true">
                                &times;
                            </button>
                            <span class="fa fa-exclamation"
                                  aria-hidden="true"></span>
                            <span class="sr-only">Error:</span>
                            {{ form_errors(form) | striptags }}
                        </div>
                    {% endif %}
                    <div class="row">
                        <div class="col-md-12">
                            <div class="col-md-4 required">
                                <div class="form-group">
                                    <label class="font-noraml"><strong>{{ 'backend.reportes.distribuidor_remesas.fields.fechas'|trans }}</strong>:</label>
                                    <div class="input-daterange input-group">
                                        {{ form_widget(form.fechaInicio,{
                                            'attr':{
                                                'class':'form-control'
                                            }
                                        }) }}
                                        <span class="input-group-addon"> - </span>
                                        {{ form_widget(form.fechaFin,{
                                            'attr':{
                                                'class':'form-control'
                                            }
                                        }) }}
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-3 required">
                                <div class="form-group">
                                    <label class="font-noralm">{{ form_label(form.distribuidor)|striptags }}:</label>
                                    <div class="col-xs-12 input-group">
                                        {{ form_widget(form.distribuidor,{'attr':{'class':'form-control', 'data-placeholder': "Seleccione los distribuidores"}}) }}
                                        {% if form_errors(form.distribuidor) %}
                                            <div class="alert alert-danger" role="alert">
                                                <button type="button" class="close" data-dismiss="alert"
                                                        aria-hidden="true">&times;
                                                </button>
                                                <span class="fa fa-exclamation"
                                                      aria-hidden="true"></span>
                                                <span class="sr-only">Error:</span>
                                                {{ form_errors(form.distribuidor) | striptags }}
                                            </div>
                                        {% endif %}
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-3 required">
                                <div class="form-group">
                                    <label class="font-noralm">{{ form_label(form.agencia)|striptags }}:</label>
                                    <div class="col-xs-12 input-group">
                                        {{ form_widget(form.agencia,{'attr':{'class':'form-control', 'data-placeholder': "Seleccione las agencias"}}) }}
                                        {% if form_errors(form.agencia) %}
                                            <div class="alert alert-danger" role="alert">
                                                <button type="button" class="close" data-dismiss="alert"
                                                        aria-hidden="true">&times;
                                                </button>
                                                <span class="fa fa-exclamation"
                                                      aria-hidden="true"></span>
                                                <span class="sr-only">Error:</span>
                                                {{ form_errors(form.agencia) | striptags }}
                                            </div>
                                        {% endif %}
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-2 required">
                                <div class="form-group">
                                    <label class="font-noralm">{{ form_label(form.moneda)|striptags }}:</label>
                                    <div class="col-xs-12 input-group">
                                        {{ form_widget(form.moneda,{'attr':{'class':'form-control', 'data-placeholder': "Monedas"}}) }}
                                        {% if form_errors(form.moneda) %}
                                            <div class="alert alert-danger" role="alert">
                                                <button type="button" class="close" data-dismiss="alert"
                                                        aria-hidden="true">&times;
                                                </button>
                                                <span class="fa fa-exclamation"
                                                      aria-hidden="true"></span>
                                                <span class="sr-only">Error:</span>
                                                {{ form_errors(form.moneda) | striptags }}
                                            </div>
                                        {% endif %}
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-xs-12 text-right">
                            <div class="hr-line-dashed"></div>
                            <button class="btn btn-primary pull-right" type="submit" style="margin-left: 5px;">
                                <i
                                        class="fa fa-search"></i> {{ 'backend.reportes.btn_search'|trans }}
                            </button>
                        </div>
                    </div>
                    </form>
                </div>
            </div>
            <div class="row">
                <div class="col-lg-3">
                    <div class="widget style1 navy-bg">
                        <div class="row">
                            <div class="col-xs-4">
                                <i class="fa fa-star-half-empty fa-5x"></i>
                            </div>
                            <div class="col-xs-8 text-right">
                                <span>Remesas creadas agencias</span>
                                <h2 class="font-bold">{{ totales['totalAgencias'] }}</h2>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-lg-3">
                    <div class="widget style1 lazur-bg">
                        <div class="row">
                            <div class="col-xs-4">
                                <i class="fa fa-car fa-5x"></i>
                            </div>
                            <div class="col-xs-8 text-right">
                                <span>Distribuidas en env√≠os</span>
                                <h2 class="font-bold">{{ totales['totalDistribuidasAll'] }}</h2>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-lg-3">
                    <div class="widget style1 yellow-bg">
                        <div class="row">
                            <div class="col-xs-4">
                                <i class="fa fa-calendar-check-o fa-5x"></i>
                            </div>
                            <div class="col-xs-8 text-right">
                                <span>Distruidas dentro de las fechas</span>
                                <h2 class="font-bold">{{ totales['totalDistribuidasInRange'] }}</h2>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-lg-3">
                    <div class="widget style1 red-bg">
                        <div class="row">
                            <div class="col-xs-4">
                                <i class="fa fa-calendar-minus-o fa-5x"></i>
                            </div>
                            <div class="col-xs-8 text-right">
                                <span>Distribuidas antes de las fechas</span>
                                <h2 class="font-bold">{{ totales['totalDistribuidasOutRange'] }}</h2>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-lg-3">
                    <div class="widget style1 red-bg">
                        <div class="row">
                            <div class="col-xs-4">
                                <i class="fa fa-calendar-minus-o fa-5x"></i>
                            </div>
                            <div class="col-xs-8 text-right">
                                <span>Remesas sin distribuir de agencias</span>
                                <h2 class="font-bold">{{ totales['totalAgenciasSinDistribuir'] }}</h2>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            {#<div class="row">#}
                {#<div class="col-lg-6">#}
                    {#<div class="widget navy-bg no-padding">#}
                        {#<div class="p-m">#}
                            {#<h1 class="m-xs">$ 1,540</h1>#}

                            {#<h3 class="font-bold no-margins">#}
                                {#Annual income#}
                            {#</h3>#}
                            {#<small>Income form project Alpha.</small>#}
                        {#</div>#}
                        {#<div class="flot-chart">#}
                            {#<div class="flot-chart-content" id="flot-chart1"></div>#}
                        {#</div>#}
                    {#</div>#}
                {#</div>#}
                {#<div class="col-lg-3">#}
                    {#<div class="widget lazur-bg no-padding">#}
                        {#<div class="p-m">#}
                            {#<h1 class="m-xs">$ 210,660</h1>#}

                            {#<h3 class="font-bold no-margins">#}
                                {#Monthly income#}
                            {#</h3>#}
                            {#<small>Income form project Beta.</small>#}
                        {#</div>#}
                        {#<div class="flot-chart">#}
                            {#<div class="flot-chart-content" id="flot-chart2"></div>#}
                        {#</div>#}
                    {#</div>#}
                {#</div>#}
                {#<div class="col-lg-3">#}
                    {#<div class="widget yellw-bg no-padding">#}
                        {#<div class="p-m">#}
                            {#<h1 class="m-xs">$ 50,992</h1>#}

                            {#<h3 class="font-bold no-margins">#}
                                {#Half-year revenue margin#}
                            {#</h3>#}
                            {#<small>Sales marketing.</small>#}
                        {#</div>#}
                        {#<div class="flot-chart">#}
                            {#<div class="flot-chart-content" id="flot-chart3"></div>#}
                        {#</div>#}
                    {#</div>#}
                {#</div>#}
            {#</div>#}
            {#<div class="row">#}
                {#<div class="col-lg-2">#}
                    {#<div class="widget style1 navy-bg">#}
                        {#<div class="row vertical-align">#}
                            {#<div class="col-xs-3">#}
                                {#<i class="fa fa-user fa-3x"></i>#}
                            {#</div>#}
                            {#<div class="col-xs-9 text-right">#}
                                {#<h2 class="font-bold">217</h2>#}
                            {#</div>#}
                        {#</div>#}
                    {#</div>#}
                {#</div>#}
                {#<div class="col-lg-2">#}
                    {#<div class="widget style1 navy-bg">#}
                        {#<div class="row vertical-align">#}
                            {#<div class="col-xs-3">#}
                                {#<i class="fa fa-thumbs-up fa-3x"></i>#}
                            {#</div>#}
                            {#<div class="col-xs-9 text-right">#}
                                {#<h2 class="font-bold">400</h2>#}
                            {#</div>#}
                        {#</div>#}
                    {#</div>#}
                {#</div>#}
                {#<div class="col-lg-2">#}
                    {#<div class="widget style1 navy-bg">#}
                        {#<div class="row vertical-align">#}
                            {#<div class="col-xs-3">#}
                                {#<i class="fa fa-rss fa-3x"></i>#}
                            {#</div>#}
                            {#<div class="col-xs-9 text-right">#}
                                {#<h2 class="font-bold">10</h2>#}
                            {#</div>#}
                        {#</div>#}
                    {#</div>#}
                {#</div>#}
                {#<div class="col-lg-2">#}
                    {#<div class="widget style1 lazur-bg">#}
                        {#<div class="row vertical-align">#}
                            {#<div class="col-xs-3">#}
                                {#<i class="fa fa-phone fa-3x"></i>#}
                            {#</div>#}
                            {#<div class="col-xs-9 text-right">#}
                                {#<h2 class="font-bold">120</h2>#}
                            {#</div>#}
                        {#</div>#}
                    {#</div>#}
                {#</div>#}
                {#<div class="col-lg-2">#}
                    {#<div class="widget style1 lazur-bg">#}
                        {#<div class="row vertical-align">#}
                            {#<div class="col-xs-3">#}
                                {#<i class="fa fa-euro fa-3x"></i>#}
                            {#</div>#}
                            {#<div class="col-xs-9 text-right">#}
                                {#<h2 class="font-bold">462</h2>#}
                            {#</div>#}
                        {#</div>#}
                    {#</div>#}
                {#</div>#}
                {#<div class="col-lg-2">#}
                    {#<div class="widget style1 yellow-bg">#}
                        {#<div class="row vertical-align">#}
                            {#<div class="col-xs-3">#}
                                {#<i class="fa fa-shield fa-3x"></i>#}
                            {#</div>#}
                            {#<div class="col-xs-9 text-right">#}
                                {#<h2 class="font-bold">610</h2>#}
                            {#</div>#}
                        {#</div>#}
                    {#</div>#}
                {#</div>#}
            {#</div>#}
            {#<div class="row">#}
                {#<div class="col-lg-4">#}
                    {#<div class="widget-head-color-box navy-bg p-lg text-center">#}
                        {#<div class="m-b-md">#}
                            {#<h2 class="font-bold no-margins">#}
                                {#Alex Smith#}
                            {#</h2>#}
                            {#<small>Founder of Groupeq</small>#}
                        {#</div>#}
                        {#<img src="img/a4.jpg" class="img-circle circle-border m-b-md" alt="profile">#}
                        {#<div>#}
                            {#<span>100 Tweets</span> |#}
                            {#<span>350 Following</span> |#}
                            {#<span>610 Followers</span>#}
                        {#</div>#}
                    {#</div>#}
                    {#<div class="widget-text-box">#}
                        {#<h4 class="media-heading">Alex Smith</h4>#}
                        {#<p>Lorem Ipsum is simply dummy text of the printing and typesetting industry.</p>#}
                        {#<div class="text-right">#}
                            {#<a class="btn btn-xs btn-white"><i class="fa fa-thumbs-up"></i> Like </a>#}
                            {#<a class="btn btn-xs btn-primary"><i class="fa fa-heart"></i> Love</a>#}
                        {#</div>#}
                    {#</div>#}
                {#</div>#}
                {#<div class="col-lg-2">#}
                    {#<div class="widget navy-bg p-lg text-center">#}
                        {#<div class="m-b-md">#}
                            {#<i class="fa fa-shield fa-4x"></i>#}
                            {#<h1 class="m-xs">456</h1>#}
                            {#<h3 class="font-bold no-margins">#}
                                {#Shield#}
                            {#</h3>#}
                            {#<small>power</small>#}
                        {#</div>#}
                    {#</div>#}
                    {#<div class="widget  p-lg text-center">#}
                        {#<div class="m-b-md">#}
                            {#<i class="fa fa-flash fa-4x"></i>#}
                            {#<h1 class="m-xs">612</h1>#}
                            {#<h3 class="font-bold no-margins">#}
                                {#Thunder#}
                            {#</h3>#}
                            {#<small>amount</small>#}
                        {#</div>#}
                    {#</div>#}
                {#</div>#}
                {#<div class="col-lg-4">#}
                    {#<div class="widget lazur-bg p-xl">#}

                        {#<h2>#}
                            {#Janet Smith#}
                        {#</h2>#}
                        {#<ul class="list-unstyled m-t-md">#}
                            {#<li>#}
                                {#<span class="fa fa-envelope m-r-xs"></span>#}
                                {#<label>Email:</label>#}
                                {#mike@mail.com#}
                            {#</li>#}
                            {#<li>#}
                                {#<span class="fa fa-home m-r-xs"></span>#}
                                {#<label>Address:</label>#}
                                {#Street 200, Avenue 10#}
                            {#</li>#}
                            {#<li>#}
                                {#<span class="fa fa-phone m-r-xs"></span>#}
                                {#<label>Contact:</label>#}
                                {#(+121) 678 3462#}
                            {#</li>#}
                        {#</ul>#}

                    {#</div>#}
                    {#<div class="widget red-bg p-lg text-center">#}
                        {#<div class="m-b-md">#}
                            {#<i class="fa fa-bell fa-4x"></i>#}
                            {#<h1 class="m-xs">47</h1>#}
                            {#<h3 class="font-bold no-margins">#}
                                {#Notification#}
                            {#</h3>#}
                            {#<small>We detect the error.</small>#}
                        {#</div>#}
                    {#</div>#}
                {#</div>#}
                {#<div class="col-lg-2">#}
                    {#<div class="widget yellow-bg p-lg text-center">#}
                        {#<div class="m-b-md">#}
                            {#<i class="fa fa-thumbs-up fa-4x"></i>#}
                            {#<h1 class="m-xs">520</h1>#}
                            {#<h3 class="font-bold no-margins">#}
                                {#Likes#}
                            {#</h3>#}
                            {#<small>amount</small>#}
                        {#</div>#}
                    {#</div>#}
                    {#<div class="widget yellow-bg p-lg text-center">#}
                        {#<div class="m-b-md">#}
                            {#<i class="fa fa-warning fa-4x"></i>#}
                            {#<h1 class="m-xs">Alarm</h1>#}
                            {#<h3 class="font-bold no-margins">#}
                                {#Do#}
                            {#</h3>#}
                            {#<small>something</small>#}
                        {#</div>#}
                    {#</div>#}
                {#</div>#}
            {#</div>#}
            {#<div class="row m-t-lg">#}
                {#<div class="col-lg-6">#}
                    {#<div>#}
                        {#<table class="table">#}
                            {#<tbody>#}
                            {#<tr>#}
                                {#<td>#}
                                    {#<button type="button" class="btn btn-danger m-r-sm">12</button>#}
                                    {#Total messages#}
                                {#</td>#}
                                {#<td>#}
                                    {#<button type="button" class="btn btn-primary m-r-sm">28</button>#}
                                    {#Posts#}
                                {#</td>#}
                                {#<td>#}
                                    {#<button type="button" class="btn btn-info m-r-sm">15</button>#}
                                    {#Comments#}
                                {#</td>#}
                            {#</tr>#}
                            {#<tr>#}
                                {#<td>#}
                                    {#<button type="button" class="btn btn-info m-r-sm">20</button>#}
                                    {#News#}
                                {#</td>#}
                                {#<td>#}
                                    {#<button type="button" class="btn btn-success m-r-sm">40</button>#}
                                    {#Likes#}
                                {#</td>#}
                                {#<td>#}
                                    {#<button type="button" class="btn btn-danger m-r-sm">30</button>#}
                                    {#Notifications#}
                                {#</td>#}
                            {#</tr>#}
                            {#<tr>#}
                                {#<td>#}
                                    {#<button type="button" class="btn btn-warning m-r-sm">20</button>#}
                                    {#Albums#}
                                {#</td>#}
                                {#<td>#}
                                    {#<button type="button" class="btn btn-default m-r-sm">40</button>#}
                                    {#Groups#}
                                {#</td>#}
                                {#<td>#}
                                    {#<button type="button" class="btn btn-warning m-r-sm">30</button>#}
                                    {#Permissions#}
                                {#</td>#}
                            {#</tr>#}
                            {#</tbody>#}
                        {#</table>#}
                    {#</div>#}
                {#</div>#}
            {#</div>#}
        </div>
    </div>
{% endblock %}
{% block javascripts %}
    {{ parent() }}

    <script type="application/javascript">
        $(function () {

            $('.input-daterange').datepicker({
                keyboardNavigation: false,
                forceParse: false,
                autoclose: true,
                format: 'dd/mm/yyyy',
                todayBtn: true,
                language: 'es',
                endDate: 'today',
                todayHighlight: true
            }).on('keypress paste', function (e) {
                e.preventDefault();
                return false;
            });

            $("#{{ form.vars.id }}").validate({
                rules: {
                    '{{ form.fechaInicio.vars.full_name }}': {
                        required: true
                    },
                    '{{ form.fechaFin.vars.full_name }}': {
                        required: true
                    }
                }
            });
        })
    </script>
{% endblock %}
